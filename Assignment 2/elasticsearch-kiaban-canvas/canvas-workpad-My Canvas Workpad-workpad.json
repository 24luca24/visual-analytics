{"css":".canvasPage {\n\n}","variables":[],"id":"workpad-1dddd605-251d-48a0-bccc-cb610fb7f65a","name":"My Canvas Workpad","width":1080,"height":720,"page":0,"pages":[{"id":"page-009f55d6-e68e-4973-a57e-979c9444d8d7","style":{"background":"#FFF"},"transition":{},"elements":[{"id":"element-f150e9d9-abbf-4e11-a1e5-ba1d6b4ff41a","position":{"left":684.5,"top":91,"width":253,"height":72,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql \n  query=\"SELECT SUM(Votes) AS total_reviews FROM restaurants_v5_fixed\"\n| math \"total_reviews\"\n| metric \n  \"Total Reviews\"\n  metricFont={font size=48 family=\"'Open Sans', Helvetica, Arial, sans-serif\" color=\"#000000\" align=\"center\" lHeight=48}\n  labelFont={font size=14 family=\"'Open Sans', Helvetica, Arial, sans-serif\" color=\"#000000\" align=\"center\"}\n  metricFormat=\"0,0.[000]\"\n| render","filter":null},{"id":"element-0433467b-72f3-4402-ba31-50867516eff5","position":{"left":561,"top":29,"width":500,"height":50,"angle":0,"parent":null},"expression":"esdocs index=\"restaurants_v5*\" fields=\"City.keyword\"\n| dropdownControl valueColumn=\"City.keyword\" filterColumn=\"City.keyword\"\n| render","filter":""},{"id":"element-96db26a1-1c23-4443-ad32-006219717e51","position":{"left":25.640544456622763,"top":100,"width":500,"height":311.45538187074465,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql \n  query=\"\n    SELECT \n      CASE\n        WHEN AverageCostForTwo <= 50 AND AverageCostForTwo > 0 THEN 'Cheap'\n        WHEN AverageCostForTwo > 50 AND AverageCostForTwo <= 100 THEN 'Cheap/Medium'\n        WHEN AverageCostForTwo > 100 AND AverageCostForTwo <= 250 THEN 'Medium'\n        WHEN AverageCostForTwo > 250 AND AverageCostForTwo <= 1000 THEN 'Pricy'\n        WHEN AverageCostForTwo > 1000 THEN 'Super Pricy' \n      END AS price_category,\n      City.keyword,\n      COUNT(RestaurantName.keyword) AS unique_restaurants\n    FROM restaurants_v5\n    WHERE price_category IS NOT NULL\n    GROUP BY price_category, City.keyword\n    ORDER BY price_category DESC\n  \"\n| pointseries x=\"price_category\" y=\"unique_restaurants\"\n| plot defaultStyle={seriesStyle bars=0.75} palette={palette \"#7ECAE3\" \"#003A4D\" gradient=true}\n| render","filter":null},{"id":"element-872675ef-3e95-4788-bd8b-f1773eec6a57","position":{"left":735,"top":463,"width":254,"height":233,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql \n  query=\"\n    SELECT\n      CASE\n        WHEN AggregateRating <= 1.5 THEN 'Bad'\n        WHEN AggregateRating > 1.5 AND AggregateRating <= 4 THEN 'Medium'\n        ELSE 'Good'\n      END AS rating_category,\n      COUNT(*) AS count\n    FROM restaurants_v5\n    GROUP BY rating_category\n  \"\n| pointseries color=\"rating_category\" size=\"count\"\n| pie labels=true palette={palette \"#7ECAE3\" \"#003A4D\" gradient=true}\n| render","filter":null},{"id":"element-4f590359-bb24-4c3a-b561-346d1f4361a1","position":{"left":711,"top":283,"width":200,"height":100,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql \n  query=\"SELECT MAX(AverageCostForTwo) AS max_cost FROM restaurants_v5\"\n| math \"max_cost\"\n| metric \n  \"Highest Cost for Two\"\n  metricFont={font size=48 family=\"'Open Sans', Helvetica, Arial, sans-serif\" color=\"#000000\" align=\"center\" lHeight=48}\n  labelFont={font size=14 family=\"'Open Sans', Helvetica, Arial, sans-serif\" color=\"#000000\" align=\"center\"}\n  metricFormat=\"0,0.[000]\"\n| render","filter":null},{"id":"element-fb504e38-956d-47d9-b987-146b7958911f","position":{"left":711,"top":187,"width":200,"height":100,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql\nquery=\"SELECT MAX(Date) AS most_recent_review_date FROM restaurants\"\n| mapColumn \"most_recent_review_date\" fn={getCell \"most_recent_review_date\" | formatdate \"YYYY/MM/DD\"}\n| math \"most_recent_review_date\"\n| metric \"Most Recent Review Date\"\n| render","filter":null},{"id":"element-cd6f6a71-71f5-4174-9c54-59c011ee79d4","position":{"left":-45,"top":2126.94114112854,"width":500,"height":300,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| demodata\n| table\n| render","filter":null},{"id":"element-8be197fd-bedb-4afc-9c4d-4467d5fe3a83","position":{"left":20,"top":20,"width":373,"height":34,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| demodata\n| markdown \"### Restaurant Statistics\" \n  font={font align=\"left\" color=\"#000000\" family=\"'Open Sans', Helvetica, Arial, sans-serif\" italic=false size=18 underline=false weight=\"normal\"}\n| render","filter":null},{"id":"element-c1983ee9-3b3d-46f8-b7cd-a6014a64fd29","position":{"left":27.999999999999943,"top":463,"width":533,"height":233,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| essql \n  query=\"\n    SELECT \n      RestaurantName.keyword AS restaurant_name,\n      Votes,\n      RatingText.keyword AS rating_text\n    FROM restaurants_v5\n    WHERE RestaurantName.keyword IS NOT NULL \n      AND Votes IS NOT NULL \n      AND RatingText.keyword IS NOT NULL\n    ORDER BY Votes DESC\n  \"\n| table perPage=5\n| render \n  css=\".canvasRenderEl {\n  font-family: Arial, sans-serif;\n}\n\n.canvasRenderEl table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.canvasRenderEl th, .canvasRenderEl td {\n  padding: 8px;\n  text-align: left;\n}\n\n.canvasRenderEl tr:nth-child(even) {\n  background-color: #f2f2f2; /* Light gray */\n}\n\n.canvasRenderEl tr:nth-child(odd) {\n  background-color: #d9d9d9; /* Darker gray */\n}\n\n.canvasRenderEl th {\n  background-color: #3f8199;\n  color: #ffffff; /* Dark gray text */\n}\n\"","filter":null},{"id":"element-0974ed3b-36ca-405e-9120-e6447ffef2b0","position":{"left":20,"top":54,"width":452,"height":37,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| demodata\n| markdown \"### Number of Restaurant for each price category\" | render","filter":null},{"id":"element-1b57cd7d-87f6-4bdb-86a1-df53d9c15b4a","position":{"left":272.8905444566228,"top":426,"width":571.5,"height":45,"angle":0,"parent":null},"expression":"kibana\n| selectFilter\n| demodata\n| markdown \"### Restaurants Rating and Percentage of Aggregate Ratings\" | render","filter":null}],"groups":[]}],"colors":["#37988d","#c19628","#b83c6f","#3f9939","#1785b0","#ca5f35","#45bdb0","#f2bc33","#e74b8b","#4fbf48","#1ea6dc","#fd7643","#72cec3","#f5cc5d","#ec77a8","#7acf74","#4cbce4","#fd986f","#a1ded7","#f8dd91","#f2a4c5","#a6dfa2","#86d2ed","#fdba9f","#000000","#444444","#777777","#BBBBBB","#FFFFFF","rgba(255,255,255,0)"],"isWriteable":true,"assets":{},"@timestamp":"2025-04-27T16:13:07.620Z","@created":"2025-04-27T15:40:01.533Z"}